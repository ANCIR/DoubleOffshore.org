---
layout: default
---

<!-- Intro -->
<div ng-controller="MapController as map">
  This visualization shows the connections between oil rigs in {[activeLocation]} (<strong>middle</strong>), the countries they are registered in (<strong>left</strong>) and the companies that own, operate and manage them (<strong>right</strong>). Click on a country or company for more information about the particular entity.
</div>

<div ng-controller="SankeyController as sankey">

  <!-- Explore tool -->
  <div id="sankey-container"></div>

  <!-- Info paragraphs -->
  <div id="info-container"></div>

</div>

<script type="text/javascript" src="{{ "/assets/3rdparty/jquery/js/jquery.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/3rdparty/bootstrap/js/bootstrap.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/3rdparty/angular/js/angular.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/3rdparty/d3/js/d3.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/3rdparty/d3-plugins/js/sankey.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/3rdparty/crossfilter/js/crossfilter.min.js" | prepend: site.baseurl }}"></script>
<script type="text/javascript" src="{{ "/assets/js/app-sankey.js" | prepend: site.baseurl }}"></script>

<style>

/* General */

#info-container .panel-title > a {
  display: block;
  width: 100%;
  height: 100%;
}

.popover {
  max-width: 600px;
}

/* Sankey diagram */

#sankey-container {
  padding: 20px 0;
}

svg {
  font: 10px sans-serif
}

.entity rect {
  cursor: pointer;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}

.entity.rig rect {
  fill: #53777A;
  stroke: rgba(40, 58, 59, 1.0);
}

.entity.company rect {
  fill: #C02942;
  stroke: rgba(94, 20, 32, 1.0);
}

.entity.cflag rect, .entity.rflag rect {
  fill: #ECD078;
  stroke: rgba(115, 101, 58, 1.0);
}

.entity text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}

.relation {
  fill: none;
  stroke: #000;
  stroke-opacity: .2;
}

/* Selected stuff */

.relation.selected {
  stroke-opacity: .6;
}

.entity.selected text {
}

</style>